function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _get=function(t,e,n){for(var i=!0;i;){var o=t,r=e,a=n;l=c=s=void 0,i=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,r);if(void 0!==l){if("value"in l)return l.value;var s=l.get;return void 0===s?void 0:s.call(a)}var c=Object.getPrototypeOf(o);if(null===c)return void 0;t=c,e=r,n=a,i=!0}},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Chart=e()}(this,function(){"use strict";var t=function(){function t(e){_classCallCheck(this,t),this.node=document.getElementById(e),this.update()}return _createClass(t,[{key:"update",value:function(){this._width=this.node.width.baseVal.value,this._height=this.node.height.baseVal.value}},{key:"append",value:function(t){this.node.appendChild(t)}},{key:"width",set:function(t){this._width=t},get:function(){return this._width}},{key:"height",set:function(t){this._height=t},get:function(){return this._height}}]),t}(),e=function a(t){if(_classCallCheck(this,a),t){var e=document.createElementNS("http://www.w3.org/2000/svg",t.type),n=t.attrs;for(var i in n)n.hasOwnProperty(i)&&("textContent"===i?e.textContent=n[i]:e.setAttributeNS(null,i,n[i]));return e}console.log("you do not create config for your node!")},n=function(t){function e(t,n){_classCallCheck(this,e);var i=void 0;return i={type:"text",attrs:{x:t.x,y:t.y,"font-family":n.fontfamily,"font-size":n.fontsize,stroke:n.color,fill:n.color,textContent:"$ "+t.text}},_get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,i)}return _inherits(e,t),e}(e),i=function(t){function e(t,n){_classCallCheck(this,e);var i={type:"polyline",attrs:{id:"trandline_"+t.id,fill:"none",stroke:n.color,"stroke-width":n.width,points:t.points}};return _get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,i)}return _inherits(e,t),e}(e),o=function(t){function e(t,n){_classCallCheck(this,e);var i={type:"line",attrs:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,stroke:n.color,"stroke-width":n.width}};return _get(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,i)}return _inherits(e,t),e}(e),r=function(){function e(n,i,o){_classCallCheck(this,e),o||(o=this.initConfig()),i||(i=this.initData());var r=new t(n),a=this.prepareData(i);this.createLabels(a,o.label,r),this.createPriceLines(o,r),this.createTrandline(i,a,o,r)}return _createClass(e,[{key:"initConfig",value:function(){return{trandline:{color:"#979797",width:2},label:{fontfamily:"sans-serif",fontsize:15,color:"#a5a5a5"},priceLine:{color:"#e7e7e7",width:1}}}},{key:"initData",value:function(){return{id:"usd",points:[227.5,228,229,226.3,225,227.2,223]}}},{key:"prepareData",value:function(t){var e=t.points.slice();return e.sort(),{minVal:Math.floor(e[0]),maxVal:Math.ceil(e[e.length-1])}}},{key:"createLabels",value:function(t,e,i){var o={min:{x:0,y:i.height-e.fontsize/3,text:t.minVal},middle:{x:0,y:i.height/2+e.fontsize/3,text:t.minVal+(t.maxVal-t.minVal)/2},max:{x:0,y:e.fontsize/2+e.fontsize/3,text:t.maxVal}},r=new n(o.min,e),a=new n(o.middle,e),l=new n(o.max,e);i.append(r),i.append(a),i.append(l)}},{key:"createPriceLines",value:function(t,e){var n={min:{x1:50,y1:e.height-t.label.fontsize/2,x2:e.width,y2:e.height-t.label.fontsize/2},middle:{x1:50,y1:e.height/2,x2:e.width,y2:e.height/2},max:{x1:50,y1:t.label.fontsize/2,x2:e.width,y2:t.label.fontsize/2}},i=new o(n.min,t.priceLine),r=new o(n.middle,t.priceLine),a=new o(n.max,t.priceLine);e.append(i),e.append(r),e.append(a)}},{key:"createTrandline",value:function(t,e,n,o){var r=50,a=(o.width-r)/(t.points.length-1),l=o.height-n.label.fontsize,s=l/(e.maxVal-e.minVal),c="",u=void 0;t.points.forEach(function(t){c+=Math.floor(r)+","+Math.floor((e.maxVal-t)*s+n.label.fontsize/2)+" ",r+=a});var h={id:t.id,points:c};u=new i(h,n.trandline),o.append(u)}}]),e}();return r});
//# sourceMappingURL=chart.min.js.map